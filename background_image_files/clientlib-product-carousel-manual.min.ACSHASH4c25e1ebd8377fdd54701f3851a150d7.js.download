"use strict";(self.webpackChunkaem_maven_archetype=self.webpackChunkaem_maven_archetype||[]).push([[6504],{87136:function(t,e,s){var a=s(7352),i=s(86613),o=s(18880),r=s(16325);e.Z=new class{async getProductById(t,e){try{if(null!=t){let s=`${i.LF}/s/products/${t}/product-price-lite`;const d=await a.Z.get(s,e);if(d&&d.data&&d.data.successFlag)return o.Z.emit(o.Z.PRODUCT_DETAIL_DATA,d.data),window.hd.product=d.data,d.data;throw(0,r.X)(d)}}catch(t){throw o.Z.emit(o.Z.PRODUCT_DETAIL_FAILED,t),console.log("Error in getProductById -",t),t}}async getRelatedParts(t,e){try{let s=`${i.LF}/s/products/${t.productCode}/productreferences?refType=${t.refType}`;const o=!1,d=await a.Z.get(s,e,o);if(d&&d.data&&d.data.relatedProducts)return d.data.relatedProducts;throw(0,r.X)(d)}catch(t){throw console.log("Error in getRelatedParts -",t),t}}async getProductList(t,e,s=`${i.LF}/s/product-list`){try{const i={productList:t},o=await a.Z.post(s,i,!0,e);if(o&&o.data&&o.data.products)return o.data.products;throw(0,r.X)(o)}catch(t){throw console.log("Error in getProductList -",t),t}}}},82179:function(t,e){e.Z=new class{updateRating(t,e=5){const s=t.find(".average-rating-stars"),a=s.data("rating")/e,i=s.parent().find(".hd-rating-stars-outlines").width();s.css("width",a*i+"px")}}},76033:function(t,e,s){s.d(e,{Z:function(){return r}});var a=s(82179),i=s(16325),o=s(84684);class r{constructor(){this.totalStars=5}initCards(t){t.find(".card").each(((t,e)=>{const s=$(e);this.updateRating(s)}))}bindCardActions(t){(0,i.nI)()&&(t.on("mouseenter",(e=>{const s=$(e.currentTarget),a=t.find(".card-img-top"),o=a.data("alternate-image");s.addClass("cmp-products-carousel__active"),s.addClass("cmp-reviews-carousel__active"),this.allowAltImage&&o&&o.length&&(0,i.ty)(a,o)})),t.on("mouseleave",(e=>{const s=$(e.currentTarget),a=t.find(".card-img-top"),o=a.data("default-image");s.removeClass("cmp-products-carousel__active"),s.removeClass("cmp-reviews-carousel__active"),a.attr("src")!==o&&(0,i.ty)(a,o)})))}initCarousel(t,e,s){this.$carousel=$(".slick-carousel-three-panel",t),this.$carousel.on("lazyLoaded",((t,e,s,a)=>{s.addClass("loaded")})),this.$carousel.on("lazyLoadError",((t,e,s,a)=>{s.attr("src",o.HS+"/products/product-placeholder.jpg?impolicy=myresize&rw=480"),s.attr("data-default-image",o.HS+"/products/product-placeholder.jpg?impolicy=myresize&rw=480"),s.addClass("loaded")})),this.$carousel.slick(e),this.$slides=$(".slick-item",this.$carousel),this.$dots=$(".carousel__dots",t),s&&(this.$dots.removeClass("d-none"),this.setupCarouselDots())}updateRatings(){el.find(".card").each(((t,e)=>{this.updateRating($(e))}))}updateRating(t){a.Z.updateRating(t,this.totalStars)}setupCarouselDots(){const t=this.$carousel.slick("getSlick");this.updateCarouselDots(null,t),this.$carousel.on("afterChange",((t,e)=>{setTimeout((()=>{this.updateCarouselDots(t,e)}),100)})),(0,i.Jd)()}updateCarouselDots(t,e){e.$slides.each(((t,s)=>{const a=(""+$(s).data("dot-aria-label")).trim();a.length&&e.$dots&&e.$dots.children().eq(t).find("button").attr("aria-label",a)}))}setupCarouselOffset(t,e){void 0===t&&(t=$(".carousel-offset-ref",this.$el)),void 0===e&&(e=$(".slick-list",this.$el)),this.updateCarouselOffset(t,e),window.addEventListener("resize",this.updateCarouselOffset.bind(this,t,e))}updateCarouselOffset(t,e){e.css("paddingLeft",t.offset().left+parseInt(t.css("paddingLeft"),10))}setupSlideDimensions(t,e){void 0===e&&(e=$(".carousel-ghost-slide-ref",this.$el)),this.updateSlideDimensions(t,e),window.addEventListener("resize",this.updateSlideDimensions.bind(this,t,e))}updateSlideDimensions(t,e){t.css("width",e.width())}setupSlideInfo(t=".carousel__slide__info",e=".carousel__slide__info-ref"){this.slideInfoCtxSel=t,this.infoRefSel=e;const s=this.$carousel.slick("getSlick"),a=this.$carousel.slick("slickCurrentSlide");this.updateSlideInfo(null,s,null,a),this.$carousel.on("beforeChange",this.updateSlideInfo.bind(this))}updateSlideInfo(t,e,s,a){const i=$(this.slideInfoCtxSel,e.$slides[a]).clone();i.find("a").attr("tabindex",0),$(this.infoRefSel,this.$el).empty().append(i)}static removeHiddenSlides(t,e=".carousel-slide"){$(e,t).filter((function(){return!String.prototype.trim.apply($(this).text())})).remove()}}},65298:function(t,e,s){var a=s(86316),i=s.n(a),o=s(76033),r=s(84684),d=s(16325),l=s(18880),n=s(87136),c=s(82179);class h extends o.Z{constructor(t){super(),this.props(t),this.loaded=!1,$(".cmp-search-results-page").length?this.initListeners():this.show()}props(t){this.el=$(t),this.checkCount=0,this.totalStars=5,this.allowAltImage=!1,this.maxListRequestLength=12,this.usePagination=!0}initListeners(){l.Z.addListener(l.Z.LOAD_ERROR_MISSPELLING,((t,e)=>{this.show()})),l.Z.addListener(l.Z.HIDE_ERROR_MISSPELLING,(()=>{this.hide()})),l.Z.addListener(l.Z.LOAD_ZERO_RESULTS,(t=>{this.show()})),l.Z.addListener(l.Z.HIDE_ZERO_RESULTS,(()=>{this.hide()}))}async loadData(){this.loaded=!0;let t=this.el.data("product-ids"),e=this.el.data("is-author");if(t){t=t.split(",").slice(0,this.maxListRequestLength);try{this.productData=await n.Z.getProductList(t),0===this.productData.length?this.hide():this.renderData()}catch(t){!e&&this.hide(),console.log("error:",t)}}}renderData(){let t;const e=i().compile(this.el.find("#cmp-products-carousel-template").html(),(0,d.Xw)());if(this.el.find(".template-target").replaceWith(e.render({products:this.productData})),(0,d.Jd)(),this.el.find(".slick-item").length)this.show();else for(let e=0;e<this.productData.length;e++)this.productData[e].availableActions&&this.productData[e].availableActions.displayToUser&&(t=setTimeout(function(){this.el.find(".slick-item").length&&this.el.removeClass("d-none")}.bind(!0),2e3));this.initCards(),this.initCarousel()}initCarousel(){this.$carousel=$(".slick-carousel-three-panel",this.el),this.$carousel.on("lazyLoaded",((t,e,s,a)=>{s.addClass("loaded")})),this.$carousel.on("lazyLoadError",((t,e,s,a)=>{s.attr("src",r.HS+"/products/product-placeholder.jpg?impolicy=myresize&rw=480"),s.attr("data-default-image",r.HS+"/products/product-placeholder.jpg?impolicy=myresize&rw=480"),s.addClass("loaded")})),this.$carousel.slick({slide:".slick-item",lazyLoad:"ondemand",rows:0,slidesToShow:4,slidesToScroll:4,infinite:!1,nextArrow:this.el.find(".slick-next"),prevArrow:this.el.find(".slick-prev"),responsive:[{breakpoint:r.Qq,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:r.GI,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:r.y$,settings:{slidesToShow:2,slidesToScroll:1}}],dots:this.usePagination,appendDots:$(".carousel__dots",this.el)}),console.log("this.$carousel",this.$carousel),this.$slides=$(".slick-item",this.$carousel),this.$dots=$(".carousel__dots",this.el),this.usePagination&&(this.$dots.removeClass("d-none"),this.setupCarouselDots())}initCards(){this.el.find(".card").each(((t,e)=>{const s=$(e);this.updateRating(s)}))}bindCardActions(t){(0,d.nI)()&&(t.on("mouseenter",(e=>{const s=$(e.currentTarget),a=t.find(".card-img-top"),i=a.data("alternate-image");s.addClass("cmp-product-cards__active"),this.allowAltImage&&i&&i.length&&(0,d.ty)(a,i)})),t.on("mouseleave",(e=>{const s=$(e.currentTarget),a=t.find(".card-img-top"),i=a.data("default-image");s.removeClass("cmp-product-cards__active"),a.attr("src")!==i&&(0,d.ty)(a,i)})))}updateRatings(){this.el.find(".card").each(((t,e)=>{this.updateRating($(e))}))}updateRating(t){c.Z.updateRating(t,this.totalStars)}show(){this.loaded||(this.loaded=!0,this.loadData()),this.el.removeClass("d-none")}hide(){this.el.addClass("d-none")}}$((()=>{$('[data-type="component"][data-name="products-carousel-manual"]').each(((t,e)=>{const s=$(e);try{return new h(s)}catch(t){console.log(t)}}))}))}},function(t){var e;e=65298,t(t.s=e)}]);